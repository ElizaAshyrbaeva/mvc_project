<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title> Records </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<style>
    .div{
        display: flex;
        gap: 15px;
    }
    .delete{
        display: flex;
        gap: 15px;
    }
</style>
</head>
<body >


<div class="div">
    <a th:href="@{/appointments/{hospitalId}/new(hospitalId=${hospitalId})}" class="btn btn-primary">Add</a>

    <a th:href="@{/hospitals/{hospitalId}/mainPage(hospitalId=${hospitalId})}" class="btn btn-primary">back</a>
</div>


<table>
    <thead>
    <tr>
        <th >Id</th>
        <th >Date</th>
        <th >Department</th>
        <th >Doctor</th>
        <th >Patient</th>
        <th >Edit</th>
        <th >Delete</th>
    </tr>
    </thead>
    <tbody>

    <tr th:each="appointment : ${appointments}">
        <td th:text="${appointment.id}"></td>
        <td th:date="${appointment.date}"></td>
        <td th:text="${appointment.getDepartment().getName()}"></td>
        <td th:text="${appointment.getDoctor().getFirstName()}"></td>
        <td th:text="${appointment.getPatient().getFirstName()}"></td>
<td>
    <div class="delete">     <form th:method="GET"
                  th:action="@{/appointments/{hospitalId}/{id}/edit(hospitalId=${hospitalId},id=${appointment.getId()})}">
                <input type="submit" class="btn btn-primary" th:value="  Edit  "/>
            </form>
            <form th:method="DELETE"
                  th:action="@{/appointments/{hospitalId}/{id}/delete(hospitalId=${hospitalId},id=${appointment.getId()})}">
                <input type="submit" class="btn btn-primary" th:value="  Delete  "/>
            </form>
    </div>
        </td>
    </tr>
    </tbody>
</table>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
</html>